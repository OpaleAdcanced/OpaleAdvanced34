<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:sc="http://www.utc.fr/ics/scenari/v3/core" xmlns:redirect="com.scenari.xsldom.xalan.lib.Redirect" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" extension-element-prefixes="redirect" exclude-result-prefixes="sc xhtml" version="1.0"><xsl:output omit-xml-declaration="yes" indent="no" method="xml"/><xsl:param name="vDialog"/><xsl:param name="vAgent"/><xsl:template match="treeContent"><xsl:variable name="vOutlineStr"><redirect:serialize omit-xml-declaration="yes"><xsl:apply-templates mode="serialize" select="."/></redirect:serialize></xsl:variable><xsl:comment>outline : <xsl:value-of select="$vOutlineStr"/></xsl:comment><xsl:apply-templates mode="Nc_outline" select="."/></xsl:template><xsl:template mode="Nc_outline" match="treeContent"><xsl:call-template name="Nc_nodeArch_treeRoot"/></xsl:template><xsl:template mode="Nc_outline" match="node()"/><xsl:template name="Nc_nodeArch_treeRoot"><xsl:choose><xsl:when test="true()"><xsl:if test="boolean(entry)"><ul><xsl:call-template name="Nc_classesList_treeRoot"/><xsl:for-each select="entry"><li><xsl:variable name="vClasses"><xsl:apply-templates mode="Nc_classesContainer" select="."/><xsl:call-template name="Nc_classesChildren_treeRoot"/></xsl:variable><xsl:if test="$vClasses"><xsl:attribute name="class"><xsl:value-of select="$vClasses"/></xsl:attribute></xsl:if><xsl:apply-templates mode="Nc_nodeArch" select="."/></li></xsl:for-each></ul></xsl:if></xsl:when></xsl:choose></xsl:template><xsl:template name="Nc_classesRoot_treeRoot"><xsl:choose><xsl:when test="true()"><xsl:attribute name="class"> sw_tools_navRoot</xsl:attribute></xsl:when></xsl:choose></xsl:template><xsl:template name="Nc_classesListPrefix_treeRoot"><xsl:choose><xsl:when test="true()"/></xsl:choose></xsl:template><xsl:template name="Nc_classesList_treeRoot"><xsl:choose><xsl:when test="true()"><xsl:attribute name="class"> sw_tools_navList</xsl:attribute></xsl:when></xsl:choose></xsl:template><xsl:template name="Nc_classesChildren_treeRoot"><xsl:choose><xsl:when test="true()"/></xsl:choose></xsl:template><xsl:template name="Nc_classesChildSeparator_treeRoot"><xsl:choose><xsl:when test="true()"/></xsl:choose></xsl:template><xsl:template mode="Nc_nodeArch" match="entry"><xsl:apply-templates mode="Nc_link" select="."/><xsl:if test="boolean(entry)"><ul><xsl:apply-templates mode="Nc_classesList" select="."/><xsl:for-each select="entry"><li><xsl:variable name="vClasses"><xsl:apply-templates mode="Nc_classesContainer" select="."/><xsl:apply-templates mode="Nc_classesChildren" select=".."/></xsl:variable><xsl:if test="$vClasses"><xsl:attribute name="class"><xsl:value-of select="$vClasses"/></xsl:attribute></xsl:if><xsl:apply-templates mode="Nc_nodeArch" select="."/></li></xsl:for-each></ul></xsl:if></xsl:template><xsl:template mode="Nc_nodeArch" match="node()"/><xsl:template mode="Nc_link" match="entry"><xsl:choose><xsl:when test="@position='current'"><span><xsl:apply-templates mode="Nc_classesEntry" select="."/><xsl:apply-templates mode="Nc_labelTitle" select="."/><xsl:apply-templates mode="Nc_label" select="."/></span></xsl:when><xsl:otherwise><a target="_self" href="{resultatDialogue(string(@dialog), 'act:')}"><xsl:apply-templates mode="Nc_classesEntry" select="."/><xsl:apply-templates mode="Nc_labelTitle" select="."/><xsl:apply-templates mode="Nc_label" select="."/></a></xsl:otherwise></xsl:choose></xsl:template><xsl:template mode="Nc_link" match="node()"/><xsl:template priority="1" mode="Nc_label" match="entry"><span><span class="mnu_cursor"/><xsl:value-of select="@title"/></span></xsl:template><xsl:template mode="Nc_labelTitle" match="node()"/><xsl:template priority="1" mode="Nc_classesRoot" match="entry"/><xsl:template mode="Nc_classesRoot" match="node()"/><xsl:template priority="1" mode="Nc_classesEntry" match="entry"><xsl:attribute name="class"> mnu_sel_<xsl:value-of select="si(@position='current' or (count(entry)=0 and (@position='parent' or @position='ancestor')),'yes','no')"/><xsl:value-of select="concat(' ', resultatDialogue(concat(@dialog, '/outlineClasses')))"/></xsl:attribute></xsl:template><xsl:template mode="Nc_classesEntry" match="node()"/><xsl:template priority="1" mode="Nc_classesListPrefix" match="entry"/><xsl:template mode="Nc_classesListPrefix" match="node()"/><xsl:template priority="1" mode="Nc_classesList" match="entry"/><xsl:template mode="Nc_classesList" match="node()"/><xsl:template priority="1" mode="Nc_classesChildren" match="entry"/><xsl:template mode="Nc_classesChildren" match="node()"/><xsl:template priority="1" mode="Nc_classesContainer" match="entry"/><xsl:template mode="Nc_classesContainer" match="node()"/><xsl:template priority="1" mode="Nc_classesChildSeparator" match="entry"/><xsl:template mode="Nc_classesChildSeparator" match="node()"/><xsl:template match="node()"/><xsl:template mode="serialize" match="@*|node()"><xsl:copy><xsl:apply-templates mode="serialize" select="@*|node()"/></xsl:copy></xsl:template></xsl:stylesheet>